<%- include('../partials/header') %>

<article class="route-detail">
    <div class="route-header">
        <div class="route-header-content">
            <h1 class="route-name"><%= details.name %></h1>
            <p class="route-description"><%= details.description %></p>
            
            <% if (details.highlights && details.highlights.length > 0) { %>
            <div class="highlights">
                <% details.highlights.forEach(function(highlight) { %>
                <span class="highlight-tag"><%= highlight %></span>
                <% }); %>
            </div>
            <% } %>
        </div>
        
        <% if (details.imageUrl) { %>
        <div class="route-image">
            <img src="<%= details.imageUrl %>" alt="<%= details.name %>">
        </div>
        <% } %>
    </div>

    <div class="route-info">
        <div class="info-grid">
            <div class="info-item">
                <span class="info-label">Region</span>
                <span class="info-value region-<%= details.region %>"><%= details.region.charAt(0).toUpperCase() + details.region.slice(1) %></span>
            </div>
            
            <div class="info-item">
                <span class="info-label">Duration</span>
                <span class="info-value"><%= details.duration %></span>
            </div>
            
            <div class="info-item">
                <span class="info-label">Distance</span>
                <span class="info-value"><%= details.distance %> km</span>
            </div>
            
            <div class="info-item">
                <span class="info-label">Best Season</span>
                <span class="info-value season-<%= details.bestSeason %>"><%= details.bestSeason.charAt(0).toUpperCase() + details.bestSeason.slice(1) %></span>
            </div>
        </div>

        <div class="route-stations">
            <h2>Route</h2>
            <div class="stations">
                <div class="station">
                    <span class="station-label">Start</span>
                    <span class="station-name"><%= details.startStation.charAt(0).toUpperCase() + details.startStation.slice(1) %></span>
                </div>
                <div class="station">
                    <span class="station-label">End</span>
                    <span class="station-name"><%= details.endStation.charAt(0).toUpperCase() + details.endStation.slice(1) %></span>
                </div>
            </div>
        </div>

        <div class="route-operating">
            <h2>Operating Schedule</h2>
            <div class="months-grid">
                <% 
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", 
                                "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                %>
                <% details.operatingMonths.forEach(function(month) { %>
                <span class="month-badge"><%= monthNames[month - 1] %></span>
        <% }); %>
            </div>
        </div>

        <% if (details.schedules && details.schedules.length > 0) { %>
        <div class="route-schedules">
            <h2>Available Schedules</h2>
            <div class="schedules-grid">
                <% details.schedules.forEach(function(schedule) { %>
                <div class="schedule-card">
                    <div class="schedule-times">
                        <div class="time-block">
                            <span class="time-label">Departs</span>
                            <span class="time-value"><%= schedule.departureTime %></span>
                        </div>
                        <span class="time-arrow">â†’</span>
                        <div class="time-block">
                            <span class="time-label">Arrives</span>
                            <span class="time-value"><%= schedule.arrivalTime %></span>
                        </div>
                    </div>
                    <div class="schedule-days">
                        <% schedule.daysOfWeek.forEach(function(day) { %>
                        <span class="day-badge"><%= day.substring(0, 3) %></span>
                        <% }); %>
                    </div>
                    <a href="/routes/booking/<%= schedule.id %>" class="book-btn">Book Now</a>
                </div>
                <% }); %>
            </div>
        </div>
        <% } %>
    </div>
</article>

<%- include('../partials/footer') %>